const $=e=>document.querySelector(e),shortURL=()=>{const e=$("#url-in").value;fetch("/shorten",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({urlToShort:e})}).then(e=>{switch(e.status){case 406:$("#errorMessage").classList="error invalidURL";break;case 413:$("#errorMessage").classList="error longURL";break;case 429:$("#errorMessage").classList="error limitReached";break;case 500:$("#errorMessage").classList="error status500";break;default:$("#errorMessage").classList="success",e.json().then(({url:e})=>navigator.clipboard.writeText($("#url-in").value=e))}$("#url-in").focus()})},switchDark=(e=!1)=>{const r=window.localStorage.getItem("darkTheme")||window.matchMedia("(prefers-color-scheme: dark)").matches;!!e==!!r?(document.body.classList.add("dark"),!e&&window.localStorage.setItem("darkTheme",!0)):(document.body.classList.remove("dark"),!e&&window.localStorage.removeItem("darkTheme"))};switchDark(!0);